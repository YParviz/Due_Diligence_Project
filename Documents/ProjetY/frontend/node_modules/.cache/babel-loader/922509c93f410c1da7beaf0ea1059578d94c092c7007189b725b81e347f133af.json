{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Miskinyar\\\\Documents\\\\ProjetY\\\\my-first-react-app\\\\src\\\\components\\\\login.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/authContext\";\nimport User from \"../images/user.png\";\nimport Cadena from \"../images/cadena.png\";\nimport EyeIcon from \"../images/eye-icon.png\";\nimport EyeSlashIcon from \"../images/eye-slash-icon.png\";\nimport \"./styles/login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const {\n    login,\n    error: authError\n  } = useAuth(); // Renommer error en authError\n  const [userLogin, setUserLogin] = useState({\n    usr: \"\",\n    pwd: \"\"\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [localError, setLocalError] = useState(\"\"); // Renommer error en localError\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserLogin({\n      ...userLogin,\n      [name]: value\n    });\n  };\n  const togglePasswordVisibility = () => {\n    setShowPassword(prevShowPassword => !prevShowPassword);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const userData = {\n        username: userLogin.usr,\n        password: userLogin.pwd\n      };\n      await login(userData);\n      // Rediriger l'utilisateur vers la page d'accueil\n      navigate(\"/home\");\n    } catch (error) {\n      console.error(\"Error occurred during login:\", error);\n      setLocalError(error.message); // Utilisez setLocalError ici\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loginDiv\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"welcomeTitle\",\n        children: \"welcome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), localError && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: localError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 32\n      }, this), \" \", authError && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: authError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 31\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inputWithIcon\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"usr\",\n          placeholder: \"Username\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: User,\n          alt: \"usr\",\n          className: \"icon userIcon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inputWithIcon\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: showPassword ? \"text\" : \"password\",\n          name: \"pwd\",\n          placeholder: \"Password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: showPassword ? EyeSlashIcon : EyeIcon,\n          alt: \"Toggle Password Visibility\",\n          className: `icon eyeIcon ${showPassword ? \"rightIcon\" : \"\"}`,\n          onClick: togglePasswordVisibility\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Cadena,\n          alt: \"pwd\",\n          className: `icon cadenaIcon ${showPassword ? \"\" : \"leftIcon\"}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonGroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"signup\",\n          to: \"/signup\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"K5TOXTwvRz2O216noO9gok6FxmU=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","Link","useNavigate","useAuth","User","Cadena","EyeIcon","EyeSlashIcon","jsxDEV","_jsxDEV","Login","_s","login","error","authError","userLogin","setUserLogin","usr","pwd","showPassword","setShowPassword","localError","setLocalError","navigate","handleChange","e","name","value","target","togglePasswordVisibility","prevShowPassword","handleSubmit","preventDefault","userData","username","password","console","message","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","src","alt","onClick","to","_c","$RefreshReg$"],"sources":["C:/Users/Miskinyar/Documents/ProjetY/my-first-react-app/src/components/login.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/authContext\";\r\nimport User from \"../images/user.png\";\r\nimport Cadena from \"../images/cadena.png\";\r\nimport EyeIcon from \"../images/eye-icon.png\";\r\nimport EyeSlashIcon from \"../images/eye-slash-icon.png\";\r\nimport \"./styles/login.css\";\r\n\r\nfunction Login() {\r\n    const { login, error: authError } = useAuth(); // Renommer error en authError\r\n    const [userLogin, setUserLogin] = useState({ usr: \"\", pwd: \"\" });\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [localError, setLocalError] = useState(\"\"); // Renommer error en localError\r\n    const navigate = useNavigate();\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setUserLogin({ ...userLogin, [name]: value });\r\n    };\r\n\r\n    const togglePasswordVisibility = () => {\r\n        setShowPassword((prevShowPassword) => !prevShowPassword);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const userData = {\r\n                username: userLogin.usr,\r\n                password: userLogin.pwd,\r\n            };\r\n            await login(userData);\r\n            // Rediriger l'utilisateur vers la page d'accueil\r\n            navigate(\"/home\");\r\n        } catch (error) {\r\n            console.error(\"Error occurred during login:\", error);\r\n            setLocalError(error.message); // Utilisez setLocalError ici\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"loginDiv\">\r\n            <form onSubmit={handleSubmit}>\r\n                <h1 className=\"welcomeTitle\">welcome</h1>\r\n                {localError && <div>{localError}</div>} {/* Utilisez localError ici */}\r\n                {authError && <div>{authError}</div>} {/* Utilisez authError ici */}\r\n                <span className=\"inputWithIcon\">\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"usr\"\r\n                        placeholder=\"Username\"\r\n                        onChange={handleChange}\r\n                    />\r\n                    <img src={User} alt=\"usr\" className=\"icon userIcon\" />\r\n                </span>\r\n\r\n                <br />\r\n                <span className=\"inputWithIcon\">\r\n                    <input\r\n                        type={showPassword ? \"text\" : \"password\"}\r\n                        name=\"pwd\"\r\n                        placeholder=\"Password\"\r\n                        onChange={handleChange}\r\n                    />\r\n                    <img\r\n                        src={showPassword ? EyeSlashIcon : EyeIcon}\r\n                        alt=\"Toggle Password Visibility\"\r\n                        className={`icon eyeIcon ${showPassword ? \"rightIcon\" : \"\"}`}\r\n                        onClick={togglePasswordVisibility}\r\n                    />\r\n                    <img src={Cadena} alt=\"pwd\" className={`icon cadenaIcon ${showPassword ? \"\" : \"leftIcon\"}`} />\r\n                </span>\r\n\r\n                <br />\r\n                <div className=\"buttonGroup\">\r\n                    <button>Login</button>\r\n                    <Link className=\"signup\" to={\"/signup\"}>\r\n                        Sign up\r\n                    </Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}